$(document).ready(function(e){	var filters = [];	var nameStr = '';	/*====== main site url and current url =========*/	var pathArray = location.href.split('/');	var protocol = pathArray[0];	var host = pathArray[2];	var site_url = protocol + '//' + host + "/travellinked";	strUrl = location.href;	/*====== main site url and current url =========*/	function checkIfExistFilter(param,type)	{		var flag = -1;		for(var i=0; i<filters.length; i++)		{			if(filters[i].type == type)			{				flag = i;			}		}		return flag;	}		function displayExistFilters()	{		if(filters.length > 0)		{			$('.selected-links ul').html('');			for(var j = 0; j < filters.length; j++)			{				$('.selected-links ul').append('<li><span>'+filters[j].content+'</span><a href="javascript:void(0)" class="selFilters" id="'+filters[j].type+'"><i class="icon ion-close-round"></i></a></li>');			}		}		else		{			$('.selected-links ul').html('');		}	}		function getFilterdRecords()	{		var currActive = $('.tabs-model').find('a[class=active]').text();		var currTab = $('.tabs-model').find('a[class=active]').attr('href');				$.ajax({			type : "GET",			url : site_url + "/admin/get_bookings",			data:{params:filters,paramstr:nameStr},			dataType : 'json',			cache : false,			success : function(repsonse){				if(currActive == 'Approved' && filters.length == 1)				{					var checkFlag = checkIfExistFilter('Approved','status');					if(filters[checkFlag].content == 'Approved')					{						$('.tabs-model li a').removeClass('active');						$('a[href="#tab2"]').addClass('active');						$('.tabs-content').css('display','none');						$('#tab2').css('display','block');						$('#tab2-data').html(repsonse.data);					}					else					{						$('.typingFilter').val(nameStr);						$('.tabs-model li a').removeClass('active');						$('a[href="#tab1"]').addClass('active');						$('.tabs-content').css('display','none');						$('#tab1').css('display','block');						$('#tab1-data').html(repsonse.data);					}				}				else if(currActive == 'Canceled' && filters.length == 1)				{					var checkFlag = checkIfExistFilter('Canceled','status');					if(filters[checkFlag].content == 'Canceled')					{						$('.tabs-model li a').removeClass('active');						$('a[href="#tab3"]').addClass('active');						$('.tabs-content').css('display','none');						$('#tab3').css('display','block');						$('#tab3-data').html(repsonse.data);					}					else					{						$('.typingFilter').val(nameStr);						$('.tabs-model li a').removeClass('active');						$('a[href="#tab1"]').addClass('active');						$('.tabs-content').css('display','none');						$('#tab1').css('display','block');						$('#tab1-data').html(repsonse.data);					}				}				else if(currActive == 'Pending' && filters.length == 1)				{					var checkFlag = checkIfExistFilter('Pending','status');					if(filters[checkFlag].content == 'Pending')					{						$('.tabs-model li a').removeClass('active');						$('a[href="#tab4"]').addClass('active');						$('.tabs-content').css('display','none');						$('#tab4').css('display','block');						$('#tab4-data').html(repsonse.data);					}					else					{						$('.typingFilter').val(nameStr);						$('.tabs-model li a').removeClass('active');						$('a[href="#tab1"]').addClass('active');						$('.tabs-content').css('display','none');						$('#tab1').css('display','block');						$('#tab1-data').html(repsonse.data);					}				}				else				{					$('.typingFilter').val(nameStr);					$('.tabs-model li a').removeClass('active');					$('a[href="#tab1"]').addClass('active');					$('.tabs-content').css('display','none');					$('#tab1').css('display','block');					$('#tab1-data').html(repsonse.data);				}			}		});	}		$(document).on('click','.filterLink',function(){		var currVal = $(this).text();		var currFilter = $(this).attr('data-target');		var checkFlag = checkIfExistFilter(currVal,currFilter);		if(checkFlag < 0)		{			filters[filters.length] = {'content':currVal,'type':currFilter};		}		else		{			filters[checkFlag].content = currVal;		}		getFilterdRecords();		displayExistFilters();	});		$(document).on('keyup','.typingFilter',function(){		nameStr = $(this).val();		getFilterdRecords();		displayExistFilters();	});		$(document).on('click','.selFilters',function(){		var currVal = $(this).attr('id');		var delIndex = checkIfExistFilter('',currVal);		filters.splice(delIndex,1);		getFilterdRecords();		displayExistFilters();	});		$(document).on('click','a[href="#tab1"]',function(){		nameStr = '';		$('.typingFilter').val('');		filters = [];		$('.tabs-model li a').removeClass('active');		$(this).addClass('active');		getFilterdRecords();		displayExistFilters();	});	$(document).on('click','a[href="#tab2"]',function(){		nameStr = '';		$('.typingFilter').val('');		filters = [];		filters[0] = {'content':'Approved','type':'status'};		$('.tabs-model li a').removeClass('active');		$(this).addClass('active');		getFilterdRecords();		displayExistFilters();	});	$(document).on('click','a[href="#tab3"]',function(){		nameStr = '';		$('.typingFilter').val('');		filters = [];		filters[0] = {'content':'Canceled','type':'status'};		$('.tabs-model li a').removeClass('active');		$(this).addClass('active');		getFilterdRecords();		displayExistFilters();	});	$(document).on('click','a[href="#tab4"]',function(){		nameStr = '';		$('.typingFilter').val('');		filters = [];		filters[0] = {'content':'Pending','type':'status'};		$('.tabs-model li a').removeClass('active');		$(this).addClass('active');		getFilterdRecords();		displayExistFilters();	});});